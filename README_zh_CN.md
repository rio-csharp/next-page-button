
# æ–‡æ¡£å¯¼èˆªæŒ‰é’®

[English](./README.md) | ä¸­æ–‡

> åœ¨æ–‡æ¡£åº•éƒ¨æ·»åŠ ã€Œä¸Šä¸€é¡µã€å’Œã€Œä¸‹ä¸€é¡µã€æŒ‰é’®ï¼ŒæŒ‰æ–‡æ¡£æ ‘é¡ºåºæµè§ˆæ‰€æœ‰æ–‡æ¡£ã€‚

![é¢„è§ˆå›¾](preview.png)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ğŸ“– é¡ºåºå¯¼èˆª**ï¼šé€šè¿‡ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µæŒ‰é’®æŒ‰æ–‡æ¡£æ ‘é¡ºåºæµè§ˆ
- **ğŸ“ ä½ç½®æŒ‡ç¤º**ï¼šæ˜¾ç¤ºå½“å‰ä½ç½®ï¼ˆå¦‚ï¼š5 / 20ï¼‰
- **ï¿½ å®æ—¶æ›´æ–°**ï¼šè‡ªåŠ¨å“åº”æ–‡æ¡£æ ‘å˜åŒ–
- **ğŸ“š å¤šç¬”è®°æœ¬**ï¼šæ”¯æŒæ‰€æœ‰æ‰“å¼€çš„ç¬”è®°æœ¬
- **ğŸ¨ ä¸»é¢˜é€‚é…**ï¼šå®Œç¾èå…¥æ€æºç¬”è®°ç•Œé¢
- **ğŸš€ é›¶é…ç½®**ï¼šå¼€ç®±å³ç”¨

## ğŸ“¦ å®‰è£…

### ä»æ’ä»¶å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰

1. æ‰“å¼€æ€æºç¬”è®°
2. è¿›å…¥ `è®¾ç½®` â†’ `é›†å¸‚` â†’ `æ’ä»¶`
3. æœç´¢ "Next Page Button" æˆ– "æ–‡æ¡£å¯¼èˆªæŒ‰é’®"
4. ç‚¹å‡»ä¸‹è½½å¹¶å¯ç”¨

### æ‰‹åŠ¨å®‰è£…

1. ä» [Releases](https://github.com/rio-csharp/next-page-button/releases) ä¸‹è½½ `package.zip`
2. è§£å‹åˆ° `{workspace}/data/plugins/`
3. é‡å¯æ€æºç¬”è®°
4. åœ¨ `è®¾ç½®` â†’ `é›†å¸‚` â†’ `å·²ä¸‹è½½` ä¸­å¯ç”¨

## ğŸš€ ä½¿ç”¨æ–¹æ³•

å®‰è£…åæ’ä»¶è‡ªåŠ¨å·¥ä½œï¼š

1. æ‰“å¼€ä»»æ„æ–‡æ¡£
2. æ»šåŠ¨åˆ°æ–‡æ¡£åº•éƒ¨
3. ä½¿ç”¨å¯¼èˆªæŒ‰é’®åœ¨æ–‡æ¡£é—´ç§»åŠ¨
4. é¡µç æŒ‡ç¤ºå™¨æ˜¾ç¤ºå½“å‰ä½ç½®

**æŒ‰é’®çŠ¶æ€ï¼š**
- ğŸ”µ **å¯ç”¨**ï¼šè“è‰²æŒ‰é’®å¯ç‚¹å‡»
- âšª **ç¦ç”¨**ï¼šç°è‰²æŒ‰é’®è¡¨ç¤ºå·²æ˜¯ç¬¬ä¸€ç¯‡/æœ€åä¸€ç¯‡

## ï¿½ å®æ—¶æ›´æ–°

å¯¼èˆªä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨æ›´æ–°ï¼š
- åˆ›å»ºæˆ–åˆ é™¤æ–‡æ¡£
- ç§»åŠ¨æˆ–é‡å‘½åæ–‡æ¡£
- æ‹–æ‹½è°ƒæ•´æ–‡æ¡£é¡ºåº

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

å¼€å‘ç¯å¢ƒæ­å»ºè¯·å‚è€ƒ [DEVELOPMENT.md](DEVELOPMENT.md)

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£ç‰ˆæœ¬å†å²ã€‚

## ğŸ“„ å¼€æºåè®®

[MIT License](LICENSE)

---

**é“¾æ¥**ï¼š[English](./README.md) Â· [åé¦ˆé—®é¢˜](https://github.com/rio-csharp/next-page-button/issues) Â· [å¼€å‘æŒ‡å—](./DEVELOPMENT.md)

> æœ¬ä¾‹åŒ [siyuan/plugin-sample](https://github.com/siyuan-note/plugin-sample) [v0.4.1](https://github.com/siyuan-note/plugin-sample/tree/v0.4.1)
 
1. ä½¿ç”¨ vite æ‰“åŒ…
2. ä½¿ç”¨ç¬¦å·é“¾æ¥ã€è€Œä¸æ˜¯æŠŠé¡¹ç›®æ”¾åˆ°æ’ä»¶ç›®å½•ä¸‹çš„æ¨¡å¼è¿›è¡Œå¼€å‘
3. å†…ç½®å¯¹ svelte æ¡†æ¶çš„æ”¯æŒ
  
   > **å¦‚æœä¸æƒ³è¦ svelteï¼Œè¯·ç§»æ­¥è¿™ä¸ªæ¨¡æ¿:** [frostime/plugin-sample-vite](https://github.com/frostime/plugin-sample-vite)
   >
   > **è¿™é‡Œè¿˜æä¾›äº†ä¸€ä¸ª vite+solidjs çš„æ¨¡æ¿**: [frostime/plugin-sample-vite-solidjs](https://github.com/frostime/plugin-sample-vite-solidjs)

4. æä¾›ä¸€ä¸ªgithub action æ¨¡æ¿ï¼Œèƒ½è‡ªåŠ¨ç”Ÿæˆpackage.zipå¹¶ä¸Šä¼ åˆ°æ–°ç‰ˆæœ¬ä¸­

> [!NOTE]
> å½“å‰æ¨¡æ¿æ¡ˆä¾‹åŸºäº `svelte4` ç‰ˆæœ¬ï¼Œæˆ‘ä»¬åœ¨ `svelte5` åˆ†æ”¯ä¸­ç»´æŠ¤äº†ä¸€ä¸ªå®éªŒæ€§æ¨¡æ¿ï¼Œå°† Svelte å‡çº§è‡³ 5.x ç‰ˆæœ¬ã€‚
>
> æœªæ¥æˆ‘ä»¬ä¼šå°†ä¸»åˆ†æ”¯é»˜è®¤ç‰ˆæœ¬åˆ‡æ¢è‡³ svelte5ã€‚

## å¼€å§‹

1. é€šè¿‡ <kbd>Use this template</kbd> æŒ‰é’®å°†è¯¥åº“æ–‡ä»¶å¤åˆ¶åˆ°ä½ è‡ªå·±çš„åº“ä¸­ï¼Œè¯·æ³¨æ„åº“åå’Œæ’ä»¶åç§°ä¸€è‡´ï¼Œé»˜è®¤åˆ†æ”¯å¿…é¡»ä¸º `main`
2. å°†ä½ çš„åº“å…‹éš†åˆ°æœ¬åœ°å¼€å‘æ–‡ä»¶å¤¹ä¸­
    * æ³¨æ„: åŒ `plugin-sample` ä¸åŒ, æœ¬æ ·ä¾‹å¹¶ä¸æ¨èç›´æ¥æŠŠä»£ç ä¸‹è½½åˆ° `{workspace}/data/plugins/`
3. å®‰è£… [NodeJS](https://nodejs.org/en/download) å’Œ [pnpm](https://pnpm.io/installation)ï¼Œç„¶ååœ¨å¼€å‘æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ `pnpm i` å®‰è£…æ‰€éœ€è¦çš„ä¾èµ–
4. è¿è¡Œ `pnpm run make-link` å‘½ä»¤åˆ›å»ºç¬¦å·é“¾æ¥ (Windows ä¸‹çš„å¼€å‘è€…è¯·å‚é˜…ä¸‹æ–¹ã€ŒWindows ä¸‹çš„ make-linkã€å°èŠ‚)
5. æ‰§è¡Œ `pnpm run dev` è¿›è¡Œå®æ—¶ç¼–è¯‘
6.  åœ¨æ€æºä¸­æ‰“å¼€é›†å¸‚å¹¶åœ¨ä¸‹è½½é€‰é¡¹å¡ä¸­å¯ç”¨æ’ä»¶

> [!TIP]
> ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘ä»¬ç»´æŠ¤çš„ [siyuan-plugin-cli](https://www.npmjs.com/package/siyuan-plugin-cli) å‘½ä»¤è¡Œå·¥å…·ï¼Œåœ¨æœ¬åœ°ç»ˆç«¯ä¸­ç›´æ¥æ„å»ºæ’ä»¶ã€‚
> 
> æ­¤å¤–ï¼Œå¯¹äºæœ¬æ’ä»¶ä»¥ä¸‹æåŠåˆ°çš„ `make-link` ç›¸å…³çš„å‘½ä»¤ï¼Œåç»­æ‰€æœ‰æ›´æ–°å°†åœ¨ [siyuan-plugin-cli](https://www.npmjs.com/package/siyuan-plugin-cli) ä¸­è¿›è¡Œã€‚
> 
> æ¨¡æ¿å†…ç½®çš„ `make-link` è„šæœ¬ä¹Ÿå¯èƒ½ä¼šåœ¨æœªæ¥æŸä¸ªç‰ˆæœ¬ä¸­ç§»é™¤ï¼Œè½¬è€Œä½¿ç”¨ `siyuan-plugin-cli` å·¥å…·ï¼Œæ„åœ¨ç®€åŒ–åŒæ—¶ç»´æŠ¤å¤šä¸ªæ’ä»¶æ¨¡æ¿çš„å·¥ä½œé‡ã€‚

### è®¾ç½® make-link å‘½ä»¤çš„ç›®æ ‡ç›®å½•

make-link å‘½ä»¤ä¼šåˆ›å»ºç¬¦å·é“¾æ¥å°†ä½ çš„ `dev` ç›®å½•ç»‘å®šåˆ°æ€æºçš„æ’ä»¶ç›®å½•ä¸‹ã€‚ä½ å¯ä»¥æœ‰ä¸‰ç§æ–¹å¼æ¥é…ç½®ç›®æ ‡çš„æ€æºå·¥ä½œç©ºé—´å¹¶åˆ›å»ºç¬¦å·é“¾æ¥:

1. **é€‰æ‹©å·¥ä½œç©ºé—´**
    - æ‰“å¼€æ€æºç¬”è®°, ç¡®ä¿æ€æºå†…æ ¸æ­£åœ¨è¿è¡Œ
    - è¿è¡Œ `pnpm run make-link`, è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹æ‰€æœ‰æ€æºçš„å·¥ä½œç©ºé—´, è¯·åœ¨å‘½ä»¤è¡Œä¸­æ‰‹åŠ¨è¾“å…¥åºå·ä»¥é€‰æ‹©å·¥ä½œç©ºé—´
        ```bash
        >>> pnpm run make-link
        > plugin-sample-vite-svelte@0.0.3 make-link H:\SrcCode\å¼€æºé¡¹ç›®\plugin-sample-vite-svelte
        > node  --no-warnings ./scripts/make_dev_link.js

        "targetDir" is empty, try to get SiYuan directory automatically....
        Got 2 SiYuan workspaces
        [0] H:\Media\SiYuan
        [1] H:\ä¸´æ—¶æ–‡ä»¶å¤¹\SiYuanDevSpace
        Please select a workspace[0-1]: 0
        Got target directory: H:\Media\SiYuan/data/plugins
        Done! Created symlink H:\Media\SiYuan/data/plugins/plugin-sample-vite-svelte
        ```
2. **æ‰‹åŠ¨é…ç½®ç›®æ ‡ç›®å½•**
    - æ‰“å¼€ `./scripts/make_dev_link.js` æ–‡ä»¶ï¼Œæ›´æ”¹ `targetDir` ä¸ºæ€æºçš„æ’ä»¶ç›®å½• `<siyuan workspace>/data/plugins`
    - è¿è¡Œ `pnpm run make-link` å‘½ä»¤, å¦‚æœçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„æ¶ˆæ¯ï¼Œè¯´æ˜åˆ›å»ºæˆåŠŸ:

3. **è®¾ç½®ç¯å¢ƒå˜é‡åˆ›å»ºç¬¦å·é“¾æ¥**
    - è®¾ç½®ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ `SIYUAN_PLUGIN_DIR` ä¸º `å·¥ä½œç©ºé—´/data/plugins` çš„è·¯å¾„


### Windows ä¸‹çš„ make-link

ç”±äºæ€æºå‡çº§äº† Go 1.23ï¼Œæ—§ç‰ˆåˆ›å»ºçš„ junction link åœ¨ windows ä¸‹æ— æ³•è¢«æ­£å¸¸è¯†åˆ«ï¼Œæ•…è€Œæ”¹ä¸ºåˆ›å»º `dir` ç¬¦å·é“¾æ¥ã€‚

> https://github.com/siyuan-note/siyuan/issues/12399


ä¸è¿‡ Windows ä¸‹ä½¿ç”¨ NodeJs åˆ›å»ºç›®å½•ç¬¦å·é“¾æ¥å¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œä½ å¯ä»¥æœ‰å¦‚ä¸‹å‡ ç§é€‰æ‹©:

1. åœ¨å…·æœ‰ç®¡ç†å‘˜æƒé™çš„å‘½ä»¤è¡Œä¸­è¿è¡Œ `pnpm run make-link`
2. é…ç½® Windows è®¾ç½®ï¼Œåœ¨ [ç³»ç»Ÿè®¾ç½®-æ›´æ–°ä¸å®‰å…¨-å¼€å‘è€…æ¨¡å¼] ä¸­å¯ç”¨å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åå†è¿è¡Œ `pnpm run make-link`
3. è¿è¡Œ `pnpm run make-link-win`ï¼Œè¯¥å‘½ä»¤ä¼šä½¿ç”¨ä¸€ä¸ª powershell è„šæœ¬æ¥å¯»æ±‚ç®¡ç†å‘˜æƒé™ï¼Œéœ€è¦åœ¨ç³»ç»Ÿä¸­å¼€å¯ PowerShell è„šæœ¬æ‰§è¡Œæƒé™


## å›½é™…åŒ–

å›½é™…åŒ–æ–¹é¢æˆ‘ä»¬ä¸»è¦è€ƒè™‘çš„æ˜¯æ”¯æŒå¤šè¯­è¨€ï¼Œå…·ä½“éœ€è¦å®Œæˆä»¥ä¸‹å·¥ä½œï¼š

* æ’ä»¶è‡ªèº«çš„å…ƒä¿¡æ¯ï¼Œæ¯”å¦‚æ’ä»¶æè¿°å’Œè‡ªè¿°æ–‡ä»¶
  * plugin.json ä¸­çš„ `description` å’Œ `readme` å­—æ®µï¼Œä»¥åŠå¯¹åº”çš„ README*.md æ–‡ä»¶
* æ’ä»¶ä¸­ä½¿ç”¨çš„æ–‡æœ¬ï¼Œæ¯”å¦‚æŒ‰é’®æ–‡å­—å’Œæç¤ºä¿¡æ¯
  * public/i18n/*.json è¯­è¨€é…ç½®æ–‡ä»¶
  * ä»£ç ä¸­ä½¿ç”¨ `this.i18.key` è·å–æ–‡æœ¬
* æœ€ååœ¨ plugin.json ä¸­çš„ `i18n` å­—æ®µä¸­å£°æ˜è¯¥æ’ä»¶æ”¯æŒçš„è¯­è¨€
* yaml æ”¯æŒ
  * æœ¬æ¨¡æ¿ç‰¹åˆ«æ”¯æŒåŸºäº Yaml è¯­æ³•çš„ I18nï¼Œè§ `public/i18n/zh_CN.yaml`
  * ç¼–è¯‘æ—¶ï¼Œä¼šè‡ªåŠ¨æŠŠå®šä¹‰çš„ yaml æ–‡ä»¶ç¿»è¯‘æˆ json æ–‡ä»¶æ”¾åˆ° dist æˆ– dev ç›®å½•ä¸‹

å»ºè®®æ’ä»¶è‡³å°‘æ”¯æŒè‹±æ–‡å’Œç®€ä½“ä¸­æ–‡ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿æ›´å¤šäººä½¿ç”¨ã€‚

## plugin.json

```json
{
  "name": "plugin-sample-vite-svelte",
  "author": "frostime",
  "url": "https://github.com/siyuan-note/plugin-sample-vite-svelte",
  "version": "0.4.1",
  "minAppVersion": "3.2.1",
  "disabledInPublish": true,
  "backends": [
    "windows",
    "linux",
    "darwin",
    "ios",
    "android",
    "harmony",
    "docker"
  ],
  "frontends": [
    "desktop",
    "mobile",
    "browser-desktop",
    "browser-mobile",
    "desktop-window"
  ],
  "displayName": {
    "default": "Plugin sample with vite and svelte",
    "zh_CN": "æ’ä»¶æ ·ä¾‹ vite + svelte ç‰ˆ"
  },
  "description": {
    "default": "SiYuan plugin sample with vite and svelte",
    "zh_CN": "ä½¿ç”¨ vite å’Œ svelte å¼€å‘çš„æ€æºæ’ä»¶æ ·ä¾‹"
  },
  "readme": {
    "default": "README.md",
    "zh_CN": "README_zh_CN.md"
  },
  "funding": {
    "openCollective": "",
    "patreon": "",
    "github": "",
    "custom": [
      "https://ld246.com/sponsor"
    ]
  },
  "keywords": [
    "sample",
    "ç¤ºä¾‹"
  ]
}
```

* `name`ï¼šæ’ä»¶åç§°ï¼Œå¿…é¡»å’Œåº“åä¸€è‡´ï¼Œä¸”å…¨å±€å”¯ä¸€ï¼ˆé›†å¸‚ä¸­ä¸èƒ½æœ‰é‡åæ’ä»¶ï¼‰
* `author`ï¼šæ’ä»¶ä½œè€…å
* `url`ï¼šæ’ä»¶ä»“åº“åœ°å€
* `version`ï¼šæ’ä»¶ç‰ˆæœ¬å·ï¼Œå»ºè®®éµå¾ª [semver](https://semver.org/lang/zh-CN/) è§„èŒƒ
* `minAppVersion`ï¼šæ’ä»¶æ”¯æŒçš„æœ€ä½æ€æºç¬”è®°ç‰ˆæœ¬å·
* `backends`ï¼šæ’ä»¶éœ€è¦çš„åç«¯ç¯å¢ƒï¼Œå¯é€‰å€¼ä¸º `windows`, `linux`, `darwin`, `docker`, `android`, `ios` and `all`
  * `windows`ï¼šWindows æ¡Œé¢ç«¯
  * `linux`ï¼šLinux æ¡Œé¢ç«¯
  * `darwin`ï¼šmacOS æ¡Œé¢ç«¯
  * `docker`ï¼šDocker ç«¯
  * `android`ï¼šAndroid ç«¯
  * `ios`ï¼šiOS ç«¯
  * `all`ï¼šæ‰€æœ‰ç¯å¢ƒ
* `frontends`ï¼šæ’ä»¶éœ€è¦çš„å‰ç«¯ç¯å¢ƒï¼Œå¯é€‰å€¼ä¸º `desktop`, `desktop-window`, `mobile`, `browser-desktop`, `browser-mobile` and `all`
  * `desktop`ï¼šæ¡Œé¢ç«¯
  * `desktop-window`ï¼šæ¡Œé¢ç«¯é¡µç­¾è½¬æ¢çš„ç‹¬ç«‹çª—å£
  * `mobile`ï¼šç§»åŠ¨ç«¯
  * `browser-desktop`ï¼šæ¡Œé¢ç«¯æµè§ˆå™¨
  * `browser-mobile`ï¼šç§»åŠ¨ç«¯æµè§ˆå™¨
  * `all`ï¼šæ‰€æœ‰ç¯å¢ƒ
* `displayName`ï¼šæ¨¡æ¿æ˜¾ç¤ºåç§°ï¼Œä¸»è¦ç”¨äºæ¨¡æ¿é›†å¸‚åˆ—è¡¨ä¸­æ˜¾ç¤ºï¼Œæ”¯æŒå¤šè¯­è¨€
  * `default`ï¼šé»˜è®¤è¯­è¨€ï¼Œå¿…é¡»å­˜åœ¨
  * `zh_CN`ã€`en_US` ç­‰å…¶ä»–è¯­è¨€ï¼šå¯é€‰ï¼Œå»ºè®®è‡³å°‘æä¾›ä¸­æ–‡å’Œè‹±æ–‡
* `description`ï¼šæ’ä»¶æè¿°ï¼Œä¸»è¦ç”¨äºæ’ä»¶é›†å¸‚åˆ—è¡¨ä¸­æ˜¾ç¤ºï¼Œæ”¯æŒå¤šè¯­è¨€
  * `default`ï¼šé»˜è®¤è¯­è¨€ï¼Œå¿…é¡»å­˜åœ¨
  * `zh_CN`ã€`en_US` ç­‰å…¶ä»–è¯­è¨€ï¼šå¯é€‰ï¼Œå»ºè®®è‡³å°‘æä¾›ä¸­æ–‡å’Œè‹±æ–‡
* `readme`ï¼šè‡ªè¿°æ–‡ä»¶åï¼Œä¸»è¦ç”¨äºæ’ä»¶é›†å¸‚è¯¦æƒ…é¡µä¸­æ˜¾ç¤ºï¼Œæ”¯æŒå¤šè¯­è¨€
  * `default`ï¼šé»˜è®¤è¯­è¨€ï¼Œå¿…é¡»å­˜åœ¨
  * `zh_CN`ã€`en_US` ç­‰å…¶ä»–è¯­è¨€ï¼šå¯é€‰ï¼Œå»ºè®®è‡³å°‘æä¾›ä¸­æ–‡å’Œè‹±æ–‡
* `funding`ï¼šæ’ä»¶èµåŠ©ä¿¡æ¯
  * `openCollective`ï¼šOpen Collective åç§°
  * `patreon`ï¼šPatreon åç§°
  * `github`ï¼šGitHub ç™»å½•å
  * `custom`ï¼šè‡ªå®šä¹‰èµåŠ©é“¾æ¥åˆ—è¡¨
* `keywords`ï¼šæœç´¢å…³é”®å­—åˆ—è¡¨ï¼Œç”¨äºé›†å¸‚æœç´¢åŠŸèƒ½

## æ‰“åŒ…

æ— è®ºä½¿ç”¨ä½•ç§æ–¹å¼ç¼–è¯‘æ‰“åŒ…ï¼Œæˆ‘ä»¬æœ€ç»ˆéœ€è¦ç”Ÿæˆä¸€ä¸ª package.zipï¼Œå®ƒè‡³å°‘åŒ…å«å¦‚ä¸‹æ–‡ä»¶ï¼š

* i18n/*
* icon.png (160*160)
* index.css
* index.js
* plugin.json
* preview.png (1024*768)
* README*.md

## ä¸Šæ¶é›†å¸‚

* æ‰§è¡Œ `pnpm run build` ç”Ÿæˆ package.zip
* åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å‘å¸ƒï¼Œä½¿ç”¨æ’ä»¶ç‰ˆæœ¬å·ä½œä¸º â€œTag
  versionâ€ï¼Œç¤ºä¾‹ https://github.com/siyuan-note/plugin-sample/releases
* ä¸Šä¼  package.zip ä½œä¸ºäºŒè¿›åˆ¶é™„ä»¶
* æäº¤å‘å¸ƒ

å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å‘å¸ƒç‰ˆæœ¬ï¼Œè¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª PR åˆ° [Community Bazaar](https://github.com/siyuan-note/bazaar) ç¤¾åŒºé›†å¸‚ä»“åº“ï¼Œä¿®æ”¹è¯¥åº“çš„
plugins.jsonã€‚è¯¥æ–‡ä»¶æ˜¯æ‰€æœ‰ç¤¾åŒºæ’ä»¶åº“çš„ç´¢å¼•ï¼Œæ ¼å¼ä¸ºï¼š

```json
{
  "repos": [
    "username/reponame"
  ]
}
```

PR è¢«åˆå¹¶ä»¥åé›†å¸‚ä¼šé€šè¿‡ GitHub Actions è‡ªåŠ¨æ›´æ–°ç´¢å¼•å¹¶éƒ¨ç½²ã€‚åç»­å‘å¸ƒæ–°ç‰ˆæœ¬æ’ä»¶æ—¶åªéœ€è¦æŒ‰ç…§ä¸Šè¿°æ­¥éª¤åˆ›å»ºæ–°çš„å‘å¸ƒå³å¯ï¼Œä¸éœ€è¦å†
PR ç¤¾åŒºé›†å¸‚ä»“åº“ã€‚

æ­£å¸¸æƒ…å†µä¸‹ï¼Œç¤¾åŒºé›†å¸‚ä»“åº“æ¯éš” 1 å°æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ç´¢å¼•å¹¶éƒ¨ç½²ï¼Œå¯åœ¨ https://github.com/siyuan-note/bazaar/actions æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€ã€‚

## ä½¿ç”¨ Github action è‡ªåŠ¨å‘å¸ƒ

æ ·ä¾‹ä¸­è‡ªå¸¦äº† github actionï¼Œå¯ä»¥è‡ªåŠ¨æ‰“åŒ…å‘å¸ƒï¼Œè¯·éµå¾ªä»¥ä¸‹æ“ä½œï¼š

1. è®¾ç½®é¡¹ç›® `https://github.com/OWNER/REPO/settings/actions` é¡µé¢å‘ä¸‹åˆ’åˆ° **Workflow Permissions**ï¼Œæ‰“å¼€é…ç½®

    ![](asset/action.png)

2. éœ€è¦å‘å¸ƒç‰ˆæœ¬çš„æ—¶å€™ï¼Œpush ä¸€ä¸ªæ ¼å¼ä¸º `v*` çš„ tagï¼Œgithub å°±ä¼šè‡ªåŠ¨æ‰“åŒ…å‘å¸ƒ releaseï¼ˆåŒ…æ‹¬ package.zipï¼‰

3. é»˜è®¤ä½¿ç”¨ä¿å®ˆç­–ç•¥è¿›è¡Œ pre-release å‘å¸ƒï¼Œå¦‚æœè§‰å¾—æ²¡æœ‰å¿…è¦ï¼Œå¯ä»¥æ›´æ”¹ release.yml ä¸­çš„è®¾ç½®ï¼š

    ```yaml
    - name: Release
        uses: ncipollo/release-action@v1
        with:
            allowUpdates: true
            artifactErrorsFailBuild: true
            artifacts: 'package.zip'
            token: ${{ secrets.GITHUB_TOKEN }}
            prerelease: true # æŠŠè¿™ä¸ªæ”¹ä¸º false
    ```

## å¦‚ä½•å»æ‰ svelte ä¾èµ–

> æ—  Svelte ä¾èµ–ç‰ˆ: https://github.com/frostime/plugin-sample-vite

æœ¬æ’ä»¶ä½¿ç”¨ vite æ‰“åŒ…ï¼Œå¹¶æä¾›äº† svelte æ¡†æ¶ä¾èµ–ã€‚ä¸è¿‡å®é™…æƒ…å†µä¸‹å¯èƒ½æœ‰äº›å¼€å‘è€…å¹¶ä¸æƒ³è¦ svelteï¼Œåªå¸Œæœ›ä½¿ç”¨ vite æ‰“åŒ…ã€‚

å®é™…ä¸Šä½ å¯ä»¥å®Œå…¨ä¸åšä»»ä½•ä¿®æ”¹ï¼Œå°±å¯ä»¥åœ¨ä¸ä½¿ç”¨ svelte çš„å‰æä¸‹ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿ã€‚ä¸ svelte ç¼–è¯‘çš„ç¼–è¯‘ç›¸å…³çš„éƒ¨åˆ†æ˜¯ä»¥æ’ä»¶çš„å½¢å¼è½½å…¥åˆ° vite çš„å·¥ä½œæµä¸­ï¼Œæ‰€ä»¥å³ä½¿ä½ çš„é¡¹ç›®é‡Œé¢æ²¡æœ‰ svelteï¼Œä¹Ÿä¸ä¼šæœ‰å¤ªå¤§çš„å½±å“ã€‚

å¦‚æœä½ æ‰§æ„å¸Œæœ›åˆ é™¤æ‰æ‰€æœ‰ svelte ä¾èµ–ä»¥å…å®ƒä»¬æ±¡æŸ“ä½ çš„å·¥ä½œç©ºé—´ï¼Œå¯ä»¥æ‰§è¡Œä¸€ä¸‹æ­¥éª¤:

1. åˆ æ‰ package.json ä¸­çš„
    ```json
    {
      "@sveltejs/vite-plugin-svelte": "^2.0.3",
      "@tsconfig/svelte": "^4.0.1",
      "svelte": "^3.57.0"
    }
    ```
2. åˆ æ‰ `svelte.config.js` æ–‡ä»¶
3. åˆ æ‰ `vite.config.js` æ–‡ä»¶ä¸­çš„
    - ç¬¬å…­è¡Œ: `import { svelte } from "@sveltejs/vite-plugin-svelte"`
    - ç¬¬äºŒåè¡Œ: `svelte(),`
4. åˆ æ‰ `tsconfig.json` ä¸­ 37 è¡Œ `"svelte"`
5. é‡æ–°æ‰§è¡Œ `pnpm i`


## å¼€å‘è€…é¡»çŸ¥

æ€æºå¼€å‘è€…éœ€æ³¨æ„ä»¥ä¸‹è§„èŒƒã€‚

### 1. è¯»å†™æ–‡ä»¶è§„èŒƒ

æ’ä»¶æˆ–è€…å¤–éƒ¨æ‰©å±•å¦‚æœæœ‰ç›´æ¥è¯»å–æˆ–è€…å†™å…¥ data ä¸‹æ–‡ä»¶çš„éœ€æ±‚ï¼Œè¯·é€šè¿‡è°ƒç”¨å†…æ ¸ API æ¥å®ç°ï¼Œ**ä¸è¦è‡ªè¡Œè°ƒç”¨ `fs` æˆ–è€…å…¶ä»– electronã€nodejs API**ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æ•°æ®åŒæ­¥æ—¶åˆ†å—ä¸¢å¤±ï¼Œé€ æˆäº‘ç«¯æ•°æ®æŸåã€‚

ç›¸å…³ API è§ `/api/file/*`ï¼ˆä¾‹å¦‚ `/api/file/getFile` ç­‰ï¼‰ã€‚

### 2. Daily Note å±æ€§è§„èŒƒ

æ€æºåœ¨åˆ›å»ºæ—¥è®°çš„æ—¶å€™ä¼šè‡ªåŠ¨ä¸ºæ–‡æ¡£æ·»åŠ  custom-dailynote-yyyymmdd å±æ€§ï¼Œä»¥æ–¹ä¾¿å°†æ—¥è®°æ–‡æ¡£åŒæ™®é€šæ–‡æ¡£åŒºåˆ†ã€‚

> è¯¦æƒ…è¯·è§ [Github Issue #9807](https://github.com/siyuan-note/siyuan/issues/9807)ã€‚

å¼€å‘è€…åœ¨å¼€å‘æ‰‹åŠ¨åˆ›å»º Daily Note çš„åŠŸèƒ½æ—¶è¯·æ³¨æ„ï¼š

* å¦‚æœè°ƒç”¨äº† `/api/filetree/createDailyNote` åˆ›å»ºæ—¥è®°ï¼Œé‚£ä¹ˆæ–‡æ¡£ä¼šè‡ªåŠ¨æ·»åŠ è¿™ä¸ªå±æ€§ï¼Œæ— éœ€å¼€å‘è€…ç‰¹åˆ«å¤„ç†
* å¦‚æœæ˜¯å¼€å‘è€…ä»£ç æ‰‹åŠ¨åˆ›å»ºæ–‡æ¡£ï¼ˆä¾‹å¦‚ä½¿ç”¨ `createDocWithMd` API åˆ›å»ºæ—¥è®°ï¼‰ï¼Œè¯·æ‰‹åŠ¨ä¸ºæ–‡æ¡£æ·»åŠ è¯¥å±æ€§
